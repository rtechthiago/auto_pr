name: Auto Create PR on Branch Creation

on:
  push:
    branches:
      - "CGH*"

jobs:
  create-pr:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - name: Create Pull Request
        uses: actions/github-script@v6
        with:
          token: ${{ secrets.GITHUB_TOKEN }}
          script: |
            const branchName = process.env.GITHUB_REF.split('/').pop();
            const { data: pullRequest } = await github.pulls.create({
              owner: context.repo.owner,
              repo: context.repo.repo,
              title: `Auto PR for branch ${branchName}`,
              head: branchName,
              base: 'main',  # Ajuste a branch base conforme necess√°rio
              body: `Esse Pull Request foi criado automaticamente para a branch ${branchName}`,
              draft: false
            });
            console.log(`Created PR: ${pullRequest.html_url}`);
