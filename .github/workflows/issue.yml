name: Issue para criar PR

on:
  push:
    branches:
        - CGH-*


jobs:
  create-issue:
    runs-on: ubuntu-latest
    
    steps:
    - name: Check out repository
      uses: actions/checkout@v3

    - name: Set up Python
      uses: actions/setup-python@v4
      with:
        python-version: '3.x'

    - name: Install dependencies
      run: |
        pip install PyGithub

    - name: Run Python script to create GitHub issue
      run: |
        python scripts/issue.py
      env:
        GITHUB_REPOSITORY: ${{ github.repository }}  # Define o repositório atual
        ISSUE_TITLE: "Automated Issue using PyGithub"  # Título da issue
        ISSUE_BODY: "This issue was created by a GitHub Actions workflow using PyGithub."  # Corpo da issue
        GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}  # Token de autenticação do GitHub
